---
# defaults file for ESEIMS-provisioning

# Ansible host file variables for telegraf configuration file

laboratory_var: '{{ laboratory }}'
server_ip: '{{ server }}'

# Tasks variables

influxdb_gpg_repo: 'https://repos.influxdata.com/influxdb.key'
influxdb_source_repo: 'deb https://repos.influxdata.com/ubuntu trusty stable'

grafana_gpg_repo: 'https://packages.grafana.com/gpg.key'
grafana_source_repo: 'deb https://packages.grafana.com/oss/deb stable main'

telegraf_local_config: 'templates/telegraf/telegraf.j2'
telegraf_remote_config: '/etc/telegraf/telegraf.conf'

influxdb_local_config: 'templates/influxdb/influxdb.j2'
influxdb_remote_config: '/etc/influxdb/influxdb.conf'

grafana_local_config: 'templates/grafana/grafana.j2'
grafana_remote_config: '/etc/grafana/grafana.ini'


telegraf_dir_win: 'C:\Telegraf'
telegraf_agent_dir_win: '{{ telegraf_dir_win }}\telegraf.d'
telegraf_exe_win: '{{ telegraf_dir_win }}\telegraf\telegraf.exe'

telegraf_version_win: '1.12.6'
telegraf_package_win: 'telegraf-{{ telegraf_version_win }}_windows_amd64.zip'
telegraf_package_dir_win: '{{ telegraf_dir_win }}\{{ telegraf_package_win }}'
telegraf_repo_win: 'https://dl.influxdata.com/telegraf/releases/{{ telegraf_package_win }}'

telegraf_local_config_win: 'templates/telegraf/telegraf_win.j2'
telegraf_remote_config_win: '{{ telegraf_dir_win }}\telegraf\telegraf.conf'

kapacitor_pkg_url: 'https://dl.influxdata.com/kapacitor/releases/kapacitor_1.5.4-1_amd64.deb'
kapacitor_pkg: 'kapacitor_1.5.4-1_amd64.deb'
kapacitor_local_config: 'templates/kapacitor/kapacitor.conf'
kapacitor_remote_config: '/etc/kapacitor/kapacitor.conf'

telegraf_params_win:
  - --service install
  - --config {{ telegraf_remote_config_win }}
  - --config-directory {{ telegraf_agent_dir_win }}

influxdb_telegraf_user: 'telegraf'
influxdb_telegraf_password: 'password'

### ESEIMS ###

files_local_path: 'files/'
files_remote_path: '/etc/ESEIMS'

### InfluxDB ###

influxdb_owner: 'influxdb'
influxdb_group: 'influxdb'

influxdb_port: '8086'
influxdb_address: 'http://{{ server_ip }}:{{ influxdb_port }}'

### Telegraf ###

telegraf_username: 'telegraf'
telegraf_password: 'password'

### Kapacitor ###

alarms_local_path: 'files/alarms'
alarms_remote_path: '{{ files_remote_path }}/alarms'
alarms:
  - 'cpu_alert'
  - 'disk_alert'
  - 'load_alert'
  - 'memory_alert'

### Grafana ###

grafana_port: '3001'
grafana_auth_anonymous: true

grafana_address: 'http://{{ server_ip }}:{{ grafana_port }}'
grafana_admin_user: 'admin'
grafana_admin_password: 'admin'
grafana_dashboards_local: 'files/grafana-dashboards'
grafana_dashboards_remote: '{{ files_remote_path }}/grafana-dashboards'
grafana_public_dashboard: 'ESEIpublicDashboard.json'
grafana_host_dashboard: 'ESEIMS_host_overview.json'

### WEB ###

nodejs_port: '3000'
web_address: 'http://{{ server_ip }}:{{ nodejs_port }}'
web_local_path: 'files/ESEIMS-webapp'
web_full_remote_path: '{{ files_remote_path }}/ESEIMS-webapp'

nodejs_version: 10
ansible_distribution_release: 18.04
nodejs_gpg_repo: 'https://deb.nodesource.com/gpgkey/nodesource.gpg.key'
nodejs_source_repo: 'deb https://deb.nodesource.com/node_{{ nodejs_version }}.x {{ ansible_distribution_release }} main'

### MYSQL ###

eseims_sql_path: '{{ web_full_remote_path }}/server/eseims.sql'
mysql_user: 'admin'
mysql_password: 'admin'
